# Unit 39. ì´í„°ë ˆì´í„° ì‚¬ìš©í•˜ê¸°
**ì´í„°ë ˆì´í„°(iterator)** ëŠ” ê°’ì„ ì°¨ë¡€ëŒ€ë¡œ êº¼ë‚¼ ìˆ˜ ìˆëŠ” ê°ì²´(object)
## 39.1 ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´ ì•Œì•„ë³´ê¸°
- ìš°ë¦¬ê°€ í”íˆ ì‚¬ìš©í•˜ëŠ” ë¬¸ìì—´, ë¦¬ìŠ¤íŠ¸, ë”•ì…”ë„ˆë¦¬, ì„¸íŠ¸ê°€ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´
- ìš”ì†Œê°€ ì—¬ëŸ¬ ê°œ ë“¤ì–´ìˆê³ , í•œ ë²ˆì— í•˜ë‚˜ì”© êº¼ë‚¼ ìˆ˜ ìˆëŠ” ê°ì²´

```
>>> it = [1, 2, 3].__iter__()
>>> it.__next__()
1
>>> it.__next__()
2
>>> it.__next__()
3
>>> it.__next__()
Traceback (most recent call last):
  File "<pyshell#48>", line 1, in <module>
    it.__next__()
StopIteration
```
ì´ì²˜ëŸ¼ ì´í„°ë ˆì´í„°ëŠ” __next__ë¡œ ìš”ì†Œë¥¼ ê³„ì† êº¼ë‚´ë‹¤ê°€ êº¼ë‚¼ ìš”ì†Œê°€ ì—†ìœ¼ë©´ StopIteration ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œì„œ ë°˜ë³µì„ ëëƒ„

## 39.1.1  forì™€ ë°˜ë³µ ê°€ëŠ¥í•œ ê°ì²´

<details>
<summary>[ê·¸ë¦¼ 39-1] forì—ì„œ rangeì˜ ë™ì‘ ê³¼ì •
</summary>
<div markdown="1">       

ğŸ˜

forì— range(3)ì„ ì‚¬ìš©í–ˆë‹¤ë©´ ë¨¼ì € rangeì—ì„œ __iter__ë¡œ ì´í„°ë ˆì´í„°ë¥¼ ì–»ëŠ”ë‹¤.  
ê·¸ë¦¬ê³  í•œ ë²ˆ ë°˜ë³µí•  ë•Œë§ˆë‹¤ ì´í„°ë ˆì´í„°ì—ì„œ __next__ë¡œ ìˆ«ìë¥¼ êº¼ë‚´ì„œ iì— ì €ì¥í•˜ê³ , ì§€ì •ëœ ìˆ«ì 3ì´ ë˜ë©´ StopIterationì„ ë°œìƒì‹œì¼œì„œ ë°˜ë³µì„ ëë‚¸ë‹¤.

![](https://dojang.io/pluginfile.php/13952/mod_page/content/3/039001.png)

</div>
</details>

## 39.2 ì´í„°ë ˆì´í„° ë§Œë“¤ê¸°
```
class ì´í„°ë ˆì´í„°ì´ë¦„:
    def __iter__(self):
        ì½”ë“œ
 
    def __next__(self):
        ì½”ë“œ
```
```
class Counter:
    def __init__(self, stop):
        self.current = 0    # í˜„ì¬ ìˆ«ì ìœ ì§€, 0ë¶€í„° ì§€ì •ëœ ìˆ«ì ì§ì „ê¹Œì§€ ë°˜ë³µ
        self.stop = stop    # ë°˜ë³µì„ ëë‚¼ ìˆ«ì
 
    def __iter__(self):
        return self         # í˜„ì¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜
 
    def __next__(self):
        if self.current < self.stop:    # í˜„ì¬ ìˆ«ìê°€ ë°˜ë³µì„ ëë‚¼ ìˆ«ìë³´ë‹¤ ì‘ì„ ë•Œ
            r = self.current            # ë°˜í™˜í•  ìˆ«ìë¥¼ ë³€ìˆ˜ì— ì €ì¥
            self.current += 1           # í˜„ì¬ ìˆ«ìë¥¼ 1 ì¦ê°€ì‹œí‚´
            return r                    # ìˆ«ìë¥¼ ë°˜í™˜
        else:                           # í˜„ì¬ ìˆ«ìê°€ ë°˜ë³µì„ ëë‚¼ ìˆ«ìë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì„ ë•Œ
            raise StopIteration         # ì˜ˆì™¸ ë°œìƒ
 
for i in Counter(3):
    print(i, end=' ')
--------------------------------------------------------
ì‹¤í–‰ ê²°ê³¼
0 1 2
```

## 39.3 ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì´í„°ë ˆì´í„° ë§Œë“¤ê¸°
```
class ì´í„°ë ˆì´í„°ì´ë¦„:
    def __getitem__(self, ì¸ë±ìŠ¤):
        ì½”ë“œ
```
```
class Counter:
    def __init__(self, stop):
        self.stop = stop
 
    def __getitem__(self, index):
        if index < self.stop:
            return index
        else:
            raise IndexError
 
print(Counter(3)[0], Counter(3)[1], Counter(3)[2])
 
for i in Counter(3):
    print(i, end=' ')
------------------------------------------------
ì‹¤í–‰ ê²°ê³¼
0 1 2
0 1 2
```
í´ë˜ìŠ¤ì—ì„œ ```__getitem__ ë©”ì„œë“œ```ë¥¼ êµ¬í˜„í•˜ë©´ ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì´í„°ë ˆì´í„°ê°€ ëœë‹¤.  

## 39.4 iter, next í•¨ìˆ˜ í™œìš©í•˜ê¸°
### 39.4.1  iter
iterëŠ” ë°˜ë³µì„ ëë‚¼ ê°’ì„ ì§€ì •í•˜ë©´ íŠ¹ì • ê°’ì´ ë‚˜ì˜¬ ë•Œ ë°˜ë³µì„ ëëƒ„  
- iter(í˜¸ì¶œê°€ëŠ¥í•œê°ì²´, ë°˜ë³µì„ëë‚¼ê°’)
```
>>> import random
>>> it = iter(lambda : random.randint(0, 5), 2) #0ë¶€í„° 5ê¹Œì§€ ë¬´ì‘ìœ„ ìˆ«ì ìƒì„± , 2ê°€ ë‚˜ì˜¤ë©´ ë°˜ë³µì„ ëëƒ„
>>> next(it)
0
>>> next(it)
3
>>> next(it)
1
>>> next(it)
Traceback (most recent call last):
  File "<pyshell#37>", line 1, in <module>
    next(it)
StopIteration
```
## 39.4.2  next
nextëŠ” ê¸°ë³¸ê°’ì„ ì§€ì •
ê¸°ë³¸ê°’ì„ ì§€ì •í•˜ë©´ ë°˜ë³µì´ ëë‚˜ë”ë¼ë„ StopIterationì´ ë°œìƒí•˜ì§€ ì•Šê³  ê¸°ë³¸ê°’ì„ ì¶œë ¥
- next(ë°˜ë³µê°€ëŠ¥í•œê°ì²´, ê¸°ë³¸ê°’)
```
>>> it = iter(range(3))
>>> next(it, 10)
0
>>> next(it, 10)
1
>>> next(it, 10)
2
>>> next(it, 10)
10
>>> next(it, 10)
10
```


