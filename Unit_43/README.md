# Unit 43. 정규표현식 사용하기
**정규표현식(regular expression)** 은 일정한 규칙(패턴)을 가진 문자열을 표현하는 방법

## 43.1 문자열 판단하기
- re.match('패턴', '문자열')
```
>>> import re
>>> re.match('Hello', 'Hello, world!')     # 문자열이 있으므로 정규표현식 매치 객체가 반환됨
<_sre.SRE_Match object; span=(0, 5), match='Hello'>
>>> re.match('Python', 'Hello, world!')    # 문자열이 없으므로 아무것도 반환되지 않음
```
### 43.1.1  문자열이 맨 앞에 오는지 맨 뒤에 오는지 판단하기
- ^문자열
- 문자열$

이때는 match 대신 search 함수를 사용
- re.search('패턴', '문자열')
```
>>> re.search('^Hello', 'Hello, world!')     # Hello로 시작하므로 패턴에 매칭됨
<_sre.SRE_Match object; span=(0, 5), match='Hello'>
>>> re.search('world!$', 'Hello, world!')    # world!로 끝나므로 패턴에 매칭됨
<_sre.SRE_Match object; span=(7, 13), match='world!'>
```
### 43.1.2  지정된 문자열이 하나라도 포함되는지 판단하기
- 문자열|문자열
- 문자열|문자열|문자열|문자열
```
>>> re.match('hello|world', 'hello')    # hello 또는 world가 있으므로 패턴에 매칭됨
<_sre.SRE_Match object; span=(0, 5), match='hello'>
```
## 43.2 범위 판단하기
문자열이 숫자로 되어있는지 판단  
```[ ](대괄호)``` 안에 숫자 범위를 넣으며 * 또는 +를 붙임  
*는 문자(숫자)가 <u>0개 이상</u>있는지, +는 1개이상 있는지 판단
- [0-9]*
- [0-9]+

```
>>> re.match('a*b', 'b')      # b에는 a가 0개 이상 있으므로 패턴에 매칭됨
<_sre.SRE_Match object; span=(0, 1), match='b'>
>>> re.match('a+b', 'b')      # b에는 a가 1개 이상 없으므로 패턴에 매칭되지 않음
>>> re.match('a*b', 'aab')    # aab에는 a가 0개 이상 있으므로 패턴에 매칭됨
<_sre.SRE_Match object; span=(0, 3), match='aab'>
>>> re.match('a+b', 'aab')    # aab에는 a가 1개 이상 있으므로 패턴에 매칭됨
<_sre.SRE_Match object; span=(0, 3), match='aab'>
```
### 43.2.1  문자가 한 개만 있는지 판단하기

 ```?는``` ? 앞의 문자(범위)가 0개 또는 1개인지 판단
  ```.은``` .이 있는 위치에 아무 문자(숫자)가 1개 있는지 판단
- 문자?
- [0-9]?
- .

### 43.2.2  문자 개수 판단하기
- 문자{개수}
- (문자열){개수}
- [0-9]{개수}
```
>>> re.match('[0-9]{3}-[0-9]{4}-[0-9]{4}', '010-1000-1000')    # 숫자 3개-4개-4개 패턴에 매칭됨
<_sre.SRE_Match object; span=(0, 13), match='010-1000-1000'>
```
### 43.2.3  숫자와 영문 문자를 조합해서 판단하기
- a-z
- A-Z
- 가-힣

### 43.2.4  특정 문자 범위에 포함되지 않는지 판단하기
문자(숫자) 범위 앞에 ^를 붙이면 해당 범위를 제외
- [^범위]*
- [^범위]+
'[^A-Z]+'는 대문자를 제외한 모든 문자(숫자)가 1개 이상 있는지 판단
```
>>> re.match('[^A-Z]+', 'Hello')    # 대문자를 제외. 대문자가 있으므로 패턴에 매칭되지 않음
>>> re.match('[^A-Z]+', 'hello')    # 대문자를 제외. 대문자가 없으므로 패턴에 매칭됨
<_sre.SRE_Match object; span=(0, 5), match='hello'>
```
```
주의| 앞에서 특정 문자열로 시작하는지 판단할 때도 ^를 사용(헷갈리기 쉽다)
범위를 제외할 때는 '[^A-Z]+'와 같이 [ ] 안에 넣어주고, 특정 문자 범위로 시작할 때는 '^[A-Z]+'와 같이 [ ] 앞에 붙여줌
```

### 43.2.5  특수 문자 판단하기
- \특수문자

단순히 숫자인지 문자인지 판단할 때 사용 ```\d, \D, \w, \W```
- \d: [0-9]와 같음. 모든 숫자
- \D: [^0-9]와 같음. 숫자를 제외한 모든 문자
- \w: [a-zA-Z0-9_]와 같음. 영문 대소문자, 숫자, 밑줄 문자
- \W: [^a-zA-Z0-9_]와 같음. 영문 대소문자, 숫자, 밑줄 문자를 제외한 모든 문자

### 43.2.6  공백 처리하기
- \s: [ \t\n\r\f\v]와 같음. 공백(스페이스), \t(탭) \n(새 줄, 라인 피드), \r(캐리지 리턴), \f(폼피드), \v(수직 탭)을 포함
- \S: [^ \t\n\r\f\v]와 같음. 공백을 제외하고 \t, \n, \r, \f, \v만 포함

## 43.3 그룹 사용하기
정규표현식 그룹은 해당 그룹과 일치하는 문자열을 얻어올 때 사용<br>
패턴 안에서 정규표현식을 ( )(괄호)로 묶으면 그룹이 된다.
- (정규표현식) (정규표현식)

각 그룹에 해당하는 문자열(숫자)을 가져옴
- 매치객체.group(그룹숫자)
```
>>> m = re.match('([0-9]+) ([0-9]+)', '10 295')
>>> m.group(1)    # 첫 번째 그룹(그룹 1)에 매칭된 문자열을 반환
'10'
>>> m.group(2)    # 두 번째 그룹(그룹 2)에 매칭된 문자열을 반환
'295'
>>> m.group()     # 매칭된 문자열을 한꺼번에 반환
'10 295'
>>> m.group(0)    # 매칭된 문자열을 한꺼번에 반환
'10 295'
```
groups 메서드는 각 그룹에 해당하는 문자열을 튜플로 반환
- 매치객체.groups()

### 43.3.1  패턴에 매칭되는 모든 문자열 가져오기
- re.findall('패턴', '문자열')
```
>>> re.findall('[0-9]+', '1 2 Fizz 4 Buzz Fizz 7 8')
['1', '2', '4', '7', '8']
```
## 43.4 문자열 바꾸기
- re.sub('패턴', '바꿀문자열', '문자열', 바꿀횟수)

```
>>> re.sub('apple|orange', 'fruit', 'apple box orange tree')    # apple 또는 orange를 fruit로 바꿈
'fruit box fruit tree'
```

### 43.4.1  찾은 문자열을 결과에 다시 사용하기
```
>>> re.sub('([a-z]+) ([0-9]+)', '\\2 \\1 \\2 \\1', 'hello 1234')    # 그룹 2, 1, 2, 1 순으로 바꿈
'1234 hello 1234 hello'
```








